<!DOCTYPE HTML>
<html>
	<head>
		<meta charset='utf-8' />
		<link rel="stylesheet/less" type="text/css" href="style/colors.less" />
		<link rel="stylesheet/less" type="text/css" href="style/content.less" />
		<link rel="stylesheet/less" type="text/css" href="style/header.less" />
		<link rel="stylesheet/less" type="text/css" href="style/widgets.less" />
		<link rel="stylesheet/less" type="text/css" href="style/page.less" />
		<link rel="stylesheet/less" type="text/css" href="style/navigation.less" />
		<script type="text/javascript" src="lib/jquery.js"></script>
		<script type="text/javascript" src="lib/less.js"></script>
		<script type="text/javascript" src="host.js"></script>
		<script type="text/javascript" src="js/websocket.js"></script>
		<script type="text/javascript" src="js/menu.js"></script>
		<script type="text/javascript" src="js/content.js"></script>
		<script type="text/javascript" src="js/haushalt.js"></script>
	</head>
	<body>
		<div id="header">
			<div class="info">
			</div>
			<div id="navigation">
			</div>
			<div class="clear"></div>
		</div>
		<div id="wrapper">
			<div id="content">
				<h1>Laden...</h1>
				<div id="contentText">
					<p>Bitte warten Sie, während eine Verbindung zum Server aufgebaut wird.</p>
				</div>
			</div>
			<div id="widgets">
				<div>
					<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
				</div>
				<div>
					<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			function enterUserState() {
				var grocery = new MenuEntry("Einkaufen", function() {
					Content.setContent("GroceryList");
				});
				Menu.addEntry(grocery);
				Menu.refresh();
			}
			
			function enterHouseholdState() {
				Menu.clear();
				
				var management = new MenuEntry("Verwaltung");
				var users = new MenuEntry("Familienmitglieder");
				var add = new MenuEntry("Hinzufügen", function() {
					Content.setContent("UserAdd");
				});
				var login = new MenuEntry("Anmelden", function() {
					Content.setContent("UserLogin");
				});
				var list = new MenuEntry("Anzeigen", function() {
					Content.setContent("UserList");
				});
				users.addEntry(add);
				users.addEntry(login);
				users.addEntry(list);
				management.addEntry(users);
				Menu.addEntry(management);
				Menu.refresh();
			}
			Websocket.addOpenListener(function() {
				var households = new MenuEntry("Haushalte");
				var login = new MenuEntry("Einloggen", function() {
					Content.setContent("Login");
				});
				var register = new MenuEntry("Registrieren", function()  {
					Content.setContent("Register");
				});
				households.addEntry(login);
				households.addEntry(register);
				Menu.addEntry(households);
				Menu.refresh();
				Content.setContent("Connected");
			});
			
		</script>
	</body>
</html>
